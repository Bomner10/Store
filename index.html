<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Johan's Store</title>
    <style>
        /* Estilos básicos para la aplicación de venta simple */
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            color: #333;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
        }

        .container {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            width: 90%;
            max-width: 600px;
            text-align: center;
            box-sizing: border-box;
            margin-bottom: 20px;
        }

        h1 {
            margin-bottom: 20px;
            font-size: 24px;
        }

        .productos {
            text-align: left;
            margin-bottom: 20px;
        }

        .productos ul {
            list-style-type: none;
            padding: 0;
        }

        .productos li {
            margin-bottom: 10px;
        }

        input, button {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            font-size: 16px;
            box-sizing: border-box;
        }

        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 4px;
        }

        button:hover {
            background-color: #45a049;
        }

        .ticket {
            margin-top: 20px;
            text-align: left;
        }

        .ticket h2 {
            margin-bottom: 10px;
        }

        .ticket ul {
            list-style-type: none;
            padding: 0;
        }

        .ticket li {
            margin-bottom: 5px;
        }

        .ticket h3 {
            margin-top: 20px;
            font-size: 18px;
        }

        .owner-section {
            display: none; /* Oculto por defecto */
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Johan's Store</h1>

        <!-- Sección de Productos -->
        <div class="productos">
            <h2>Productos Disponibles</h2>
            <ul id="productos-lista"></ul>
        </div>

        <!-- Ingreso de Código del Producto -->
        <input type="number" id="producto-codigo" placeholder="Código del producto">
        <input type="number" id="producto-cantidad" placeholder="Cantidad a comprar">
        <button id="agregar-producto-btn">Agregar Producto</button>

        <!-- Sección de Ticket -->
        <div id="ticket" class="ticket"></div>
    </div>

    <!-- Sección para el dueño -->
    <div class="container owner-section" id="owner-section">
        <h2>Agregar Producto al Inventario</h2>
        <input type="number" id="nuevo-codigo" placeholder="Código del nuevo producto">
        <input type="text" id="nuevo-nombre" placeholder="Nombre del nuevo producto">
        <input type="number" id="nuevo-precio" placeholder="Precio del nuevo producto">
        <input type="number" id="nuevo-inventario" placeholder="Cantidad en inventario">
        <button id="agregar-inventario-btn">Agregar al Inventario</button>
    </div>

    <script>
        // Lista de productos con sus precios y cantidades
        const productos = {
            "1": { nombre: "Sabritas", precio: 15.0, cantidad: 10 },
            "2": { nombre: "Mazapan chocolate", precio: 6.0, cantidad: 20 },
            "3": { nombre: "Mazapan chico", precio: 4.0, cantidad: 15 },
            "4": { nombre: "Mazapan original", precio: 5.0, cantidad: 10 },
            "5": { nombre: "Borrachitos", precio: 3.0, cantidad: 25 },
            "6": { nombre: "Bombones", precio: 5.0, cantidad: 30 },
            "7": { nombre: "Chicles", precio: 1.0, cantidad: 50 },
            "8": { nombre: "Tamarroca", precio: 3.0, cantidad: 10 },
            "9": { nombre: "Gomitas", precio: 7.0, cantidad: 20 },
            "10": { nombre: "Pepitas", precio: 7.0, cantidad: 15 },
            "11": { nombre: "Cacahuates", precio: 5.0, cantidad: 15 },
            "12": { nombre: "Obleas", precio: 3.0, cantidad: 20 },
            "13": { nombre: "Bon o Bon", precio: 7.0, cantidad: 10 }
        };

        // Lista para guardar los productos agregados al ticket
        let ticket = [];

        // Función para mostrar los productos disponibles
        function mostrarProductos() {
            const productosLista = document.getElementById('productos-lista');
            productosLista.innerHTML = '';

            for (const [codigo, producto] of Object.entries(productos)) {
                productosLista.innerHTML += `<li><strong>${codigo}:</strong> ${producto.nombre} - $${producto.precio.toFixed(2)} (Disponibles: ${producto.cantidad})</li>`;
            }
        }

        // Función para agregar un producto al ticket
        function agregarProducto() {
            const codigo = document.getElementById('producto-codigo').value;
            const cantidad = parseInt(document.getElementById('producto-cantidad').value);

            if (productos[codigo] && cantidad > 0) {
                if (productos[codigo].cantidad >= cantidad) {
                    const producto = { ...productos[codigo] };
                    producto.cantidad = cantidad;
                    ticket.push(producto);
                    productos[codigo].cantidad -= cantidad;
                    generarTicket();
                    mostrarProductos(); // Actualiza la lista de productos
                } else {
                    alert("Cantidad insuficiente en inventario.");
                }
            } else {
                alert("Ingrese un código de producto válido y cantidad mayor a cero.");
            }
        }

        // Función para generar el ticket
        function generarTicket() {
            let total = 0;
            let ticketHtml = '<h2>Ticket</h2><ul>';

            ticket.forEach((item, index) => {
                ticketHtml += `<li>${index + 1}. ${item.nombre} - $${item.precio.toFixed(2)} x${item.cantidad}</li>`;
                total += item.precio * item.cantidad;
            });

            ticketHtml += `</ul><h3>Total: $${total.toFixed(2)}</h3>`;
            document.getElementById('ticket').innerHTML = ticketHtml;
        }

        // Función para agregar producto al inventario
        function agregarInventario() {
            const codigo = document.getElementById('nuevo-codigo').value;
            const nombre = document.getElementById('nuevo-nombre').value;
            const precio = parseFloat(document.getElementById('nuevo-precio').value);
            const cantidad = parseInt(document.getElementById('nuevo-inventario').value);

            if (codigo && nombre && precio > 0 && cantidad > 0) {
                productos[codigo] = { nombre, precio, cantidad };
                mostrarProductos();
                alert("Producto agregado al inventario con éxito.");
            } else {
                alert("Ingrese todos los detalles del producto correctamente.");
            }
        }

        // Vincula el botón de agregar producto al evento de clic
        document.getElementById('agregar-producto-btn').addEventListener('click', agregarProducto);

        // Vincula el botón de agregar inventario al evento de clic
        document.getElementById('agregar-inventario-btn').addEventListener('click', agregarInventario);

        // Muestra la lista de productos al cargar la página
        mostrarProductos();
    </script>
</body>
</html>
